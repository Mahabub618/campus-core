CREATE TABLE schools (
    id UUID PRIMARY KEY,
    name VARCHAR(255),
    code VARCHAR(50) UNIQUE,
    address TEXT,
    phone VARCHAR(20),
    email VARCHAR(255),
    principal_name VARCHAR(255),
    established_year INTEGER,
    logo_url VARCHAR(500),
    academic_year VARCHAR(20)
);

CREATE TABLE classes (
    id UUID PRIMARY KEY,
    school_id UUID REFERENCES schools(id),
    name VARCHAR(50), -- '1', '2', '3'
    section_count INTEGER DEFAULT 1,
    class_teacher_id UUID REFERENCES teachers(id),
    capacity INTEGER
);

CREATE TABLE subjects (
    id UUID PRIMARY KEY,
    name VARCHAR(100),
    code VARCHAR(20),
    class_id UUID REFERENCES classes(id),
    teacher_id UUID REFERENCES teachers(id),
    is_elective BOOLEAN DEFAULT false
);

CREATE TABLE timetable (
    id UUID PRIMARY KEY,
    class_id UUID REFERENCES classes(id),
    section_id UUID REFERENCES sections(id),
    day_of_week INTEGER, -- 1-7
    period_number INTEGER,
    subject_id UUID REFERENCES subjects(id),
    teacher_id UUID REFERENCES teachers(id),
    start_time TIME,
    end_time TIME,
    room_number VARCHAR(20)
);